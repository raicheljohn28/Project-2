<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Review</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">

    <link href="./assets/css/templatemo-style.css" rel="stylesheet">
    <link href="./assets/css/owl-carousel.css" rel="stylesheet">
    <link href="./assets/css/hero-slider.css" rel="stylesheet">
    <link href="./assets/css/fontAwesome.css" rel="stylesheet">
    <link href="./assets/css/bootstrap.min.css" rel="stylesheet">
    <link href="./assets/css/bootstrap.css.map" rel="stylesheet">
    <link href="./assets/css/bootstrap.css" rel="stylesheet">
    <link href="./assets/css/bootstrap-theme.min.css" rel="stylesheet">
    <link href="./assets/css/bootstrap-theme.css.map" rel="stylesheet">
    <link href="./assets/css/bootstrap-theme.css" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css?family=Spectral:200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet">
    <link href="./assets/css/templatemo-style.css" rel="stylesheet">

    <!-- <script src="js/vendor/modernizr-2.8.3-respond-1.4.2.min.js"></script> -->
</head>

<body>
    <div class="header">
        <div class="container">
            <a href="#" class="navbar-brand scroll-top">kudozo</a>
            <nav class="navbar navbar-inverse" role="navigation">
                <div class="navbar-header">
                    <button type="button" id="nav-toggle" class="navbar-toggle" data-toggle="collapse" data-target="#main-nav">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
                <!--/.navbar-header-->
                <div id="main-nav" class="collapse navbar-collapse">
                    <ul class="nav navbar-nav">
                        <li>
                            <a href="index.html">Home</a>
                        </li>
                        <li>
                            <a href="review.html">Add Review</a>
                        </li>
                        <li>
                            <a href="">Login</a>
                        </li>
                    </ul>
                </div>
                <!--/.navbar-collapse-->
            </nav>
            <!--/.navbar-->
        </div>
        <!--/.container-->
    </div>
    <!--/.header-->


    <section class="page-heading">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <h1>Write your mind out!</h1>
                    <!-- <p>Whatever drinking vinegar hella fingerstache shoreditch kickstarter kitsch. La croix hella iceland flexitarian letterpress.</p> -->
                    <p>Every review matters..</p>
                </div>
            </div>
        </div>
    </section>
    <br>
   


    <form id="usrform">
        <!-- <div class="form-group">
            <label for="comment">Add a Review:</label>
            <textarea class="form-control" rows="5" id="comment"></textarea>
        </div> -->
        <!-- Name: <input type="text" name="username"><br>
        Restaurant: <input type="text" name="restaurant-name"><br>
        Review:  <textarea rows="4" cols="50" name="comment" form="usrform">
            Enter text here...</textarea><br>
        Rating: <input type="text" name="rating"><br> -->
        <div>
            <label for="username">Name: <abbr title="required">*</abbr></label>
            <input id="username" type="text" name="username">
            <label for="username">Restaurant: <abbr title="required">*</abbr></label>
            <input id="restaurant-name" type="text" name="restaurant-name">
            Review:  <textarea rows="4" cols="50" name="comment" form="usrform" id="restaurant-review">
                Enter text here...</textarea><br>
            Rating: <select id="restaurant-rating">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
              </select>


          </div>
          <br>

        <button type="submit" class="btn btn-primary submit">Post Review</button>
        </div>
    </form>
    <br>
    <!-- <textarea rows="4" cols="50" name="comment" form="usrform">
        Enter text here...</textarea> -->

    <p id="text-output"></p>
    </div>


    <section class="map">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <div id="map">
                        <!-- How to change your own map point
            1. Go to Google Maps
            2. Click on your location point
            3. Click "Share" and choose "Embed map" tab
            4. Copy only URL and paste it within the src="" field below
        -->
                        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3023.459655138843!2d-74.0662690845945!3d40.72991017932997!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0xa62aa64130dd5112!2sHudson+County+Community+College+STEM+Building!5e0!3m2!1sen!2sus!4v1527953371128"
                            width="1000" height="400" frameborder="0" style="border:0" allowfullscreen></iframe>
                    </div>
                </div>
            </div>
        </div>
    </section>



    <footer>
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <p>Copyright &copy; 2018</p>
                </div>
            </div>
        </div>
    </footer>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- <script type="text/javascript" src="js/members.js"></script> -->
    <script type="text/javascript">
        // $('form').on('submit', function (event) {

        //     // Prevent the page from reloading
        //     event.preventDefault();

        //     // Set the text-output span to the value of the first input
        //     var $input = $(this).find('input');
        //     var input = $input.val();

        //     $.ajax({
        //         url: "/api/review",
        //         method: "POST",
        //         data: input
        //     }).then(function (review) {
        //         console.log(review)
        //     })

        //     $('#text-output').text(input);
        // });

        $(".submit").on("click", function (event) {
            event.preventDefault();
            // Here we grab the form elements
            var newReview = {
                // username: $("#restaurant-name").val().trim(),
                username: "Jana",
                review: $("#restaurant-review").val().trim(),
                restaurant: $("#restaurant-name").val().trim(),
                // restaurantUrl: $("#restaurant-url").val().trim(),
                rating: $("#restaurant-rating").val().trim(),
            };
            console.log(newReview);
            // This line is the magic. It"s very similar to the standard ajax function we used.
            // Essentially we give it a URL, we give it the object we want to send, then we have a "callback".
            // The callback is the response of the server. In our case, we set up code in api-routes that "returns" true or false
            // depending on if a tables is available or not.
            $.post("/api/review", newReview,
                function (data) {
                    // If a table is available... tell user they are booked.
                    // if (data) {
                    console.log(data);
                    alert("Yay! New Review has been added!");
                    // }
                    // If a table is available... tell user they on the waiting list.
                    //   else {
                    //     alert("Sorry an error occured");
                    //   }
                    // Clear the form when submitting
                    $("#username").val("");
                    $("#restaurant-name").val("");
                    // $("#restaurant-url").val("");
                    $("#restaurant-rating").val("");
                    $("#restaurant-review").val("");
                    
                });
        });
    </script>


</body>

</html>